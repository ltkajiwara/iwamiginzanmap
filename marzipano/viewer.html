<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>360Â° Panorama Viewer</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Marzipano Library -->
  <script src="https://www.marzipano.net/demos/vendor/marzipano.js"></script>

  <style>
    html, body {
      height: 100%;
      margin: 0;
    }
    #pano {
      width: 100%;
      height: 100%;
      background: black;
    }
  </style>
</head>

<body>
  <div id="pano"></div>

  <script src="data.js"></script>
  <script>
    // Create viewer
    const viewer = new Marzipano.Viewer(document.getElementById("pano"));

    // Build the geometry
    const geometry = new Marzipano.CylindricalGeometry([{ width: panoImage.width }]);

    // View settings
    const limiter = Marzipano.RectilinearView.limit.traditional(1024, 120*Math.PI/180);
    const view = new Marzipano.RectilinearView({ yaw: 0, pitch: 0 }, limiter);

    // Create the source for the panorama
    const source = Marzipano.ImageUrlSource.fromString(panoImage.url);

    // Create the scene
    const scene = viewer.createScene({
      source: source,
      geometry: geometry,
      view: view
    });

    // Display it
    scene.switchTo();
  </script>

</body>
</html>
